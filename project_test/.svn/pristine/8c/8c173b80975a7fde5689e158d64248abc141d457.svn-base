local ChatData = class("ChatData")

function ChatData:ctor()
	self.sysData   = {}
	self.worldData = {}
	self.unionData = {}

    self.setState  = {"1", "1", "1"}

	self.allLeftData   = {} -- 左下角显示全部信息

end

--插入聊天数据
function ChatData:insertData(type_,chatModel)

	if type_ == "2" then -- 系统
		if #self.sysData < 50 then
			table.insert(self.sysData, 1, chatModel)
		elseif #self.sysData == 50 then
			table.remove(self.sysData, #self.sysData)
			table.insert(self.sysData, 1, chatModel)
		end

		if self.setState[1] == "1" then
			if #self.allLeftData < 50 then
				table.insert(self.allLeftData, 1, chatModel)
			elseif #self.allLeftData == 50 then
				table.remove(self.allLeftData, #self.allLeftData)
				table.insert(self.allLeftData, 1, chatModel)
			end
		end
	elseif type_ == "3" then -- 世界
		if #self.worldData < 50 then
			table.insert(self.worldData, 1, chatModel)
		elseif #self.worldData == 50 then
			table.remove(self.worldData, #self.worldData)
			table.insert(self.worldData, 1, chatModel)
		end

		if self.setState[2] == "1" then
			if #self.allLeftData < 50 then
				table.insert(self.allLeftData, 1, chatModel)
			elseif #self.allLeftData == 50 then
				table.remove(self.allLeftData, #self.allLeftData)
				table.insert(self.allLeftData, 1, chatModel)
			end
		end
	elseif type_ == "4" then  -- 公会
		if #self.unionData < 50 then
			table.insert(self.unionData, 1, chatModel)
		elseif #self.unionData == 50 then
			table.remove(self.unionData, #self.unionData)
			table.insert(self.unionData, 1, chatModel)
		end

		if self.setState[3] == "1" then
			if #self.allLeftData < 50 then
				table.insert(self.allLeftData, 1, chatModel)
			elseif #self.allLeftData == 50 then
				table.remove(self.allLeftData, #self.allLeftData)
				table.insert(self.allLeftData, 1, chatModel)
			end
		end
	end
end

--删除聊天数据
function ChatData:cleanData()
	for i,v in ipairs(self.sysData) do
		v = nil
	end
	self.sysData = {}

	for i,v in ipairs(self.worldData) do
		v = nil
	end
	self.worldData = {}

	for i,v in ipairs(self.unionData) do
		v = nil
	end
	self.unionData = {}
end

return ChatData
