--[[
通用活动 区域数据
]]

local ActivityGameNormalSection = class("ActivityGameNormalSection")

function ActivityGameNormalSection:ctor(params)		
	local cfg = params.cfg 

	self.id = params.id 
	self.name 	 	= cfg.Name or "" 			-- 区名	
	self.title 		= cfg.Title or "" 			-- 标题
	self.desc 		= cfg.Info or "" 			-- 描述 

	self.icon 		= cfg.Icon 		-- 图标
	self.markIcon 	= cfg.Mark 		-- 标记图标
	self.on 		= checknumber(cfg.OnOff) == 1 -- 是否开启 
	self.sort 		= checknumber(cfg.Sort) 	-- 排序

	self.openType 	= checknumber(cfg.Type) 		-- 开启类型
	self.openDate 	= string.time(cfg.OpenTime) 	-- 开启日期
	self.closeDate 	= string.time(cfg.CloseTime) 	-- 关闭日期
	self.openSec 	= os.time(self.openDate) 		-- 开启时间（秒）
	self.closeSec 	= os.time(self.closeDate) 		-- 关闭时间（秒）
	
	self.activityIds = cfg.IncludeActivityID or {} 	-- 活动id
	self.activity 	= {} -- 活动数据
end

--[[
@param sec 当前格林时间
]]
function ActivityGameNormalSection:isOpen(sec)	
	if not self.on then 
		return false 
	end 

	if self.openType == 3 then 
		return true
	end 

	if self.openSec < sec and self.closeSec > sec then 
		return true 
	end 
	return false 
end

return ActivityGameNormalSection